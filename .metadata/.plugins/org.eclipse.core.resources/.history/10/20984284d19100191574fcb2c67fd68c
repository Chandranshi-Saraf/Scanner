package com.instasafe.nmapscanner;

import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;



public class myRunnable implements Runnable{
	private final String url;
	String fileName;
	String session;
	String logzap;
	String tempDir = System.getProperty("java.io.tmpdir");
	static List<ZapSite> zsite = new ArrayList<ZapSite>();
	static List<ZapSite> zapSite = new ArrayList<ZapSite>();
	myRunnable(String url, int i) throws  IOException {
		fileName=tempDir+"/scan/ZAP_2.8.0/output"+Integer.toString(i)+".xml";
		session=tempDir+"/scan/ZAP_2.8.0/session"+Integer.toString(i);
		logzap=tempDir+"/scan/ZAP_2.8.0/logzap"+Integer.toString(i)+".log";
		File file = new File(fileName);
        file.createNewFile();
		this.url = url;
	}

	@Override
	public void run() {
		ZapScan sc= new ZapScan();		
		zsite=(sc.scan(fileName, url,logzap,session));
		for(int k=0; k<zsite.size();k++)
		{
			zapSite.add(zsite.get(k));
		}
	}

	

}
